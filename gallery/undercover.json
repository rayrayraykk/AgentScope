{
  "meta": {
        "index": 4,
        "title": "Undercover",
        "author": "AgentScopeTeam",
        "keywords": [
            "undercover",
            "game"
        ],
        "category": "game",
        "time": "2024-09-23",
        "thumbnail": ""
    },
    "drawflow": {
        "Home": {
            "data": {
                "2": {
                    "id": 2,
                    "name": "post_api_chat",
                    "data": {
                        "args": {
                            "config_name": "gpt",
                            "api_url": "******",
                            "headers": {
                                "content_type": "application/json",
                                "authorization": "********"
                            },
                            "json_args": {
                                "model": "gpt-4",
                                "temperature": 0,
                                "seed": 0
                            },
                            "model_type": "post_api_chat",
                            "messages_key": "messages"
                        }
                    },
                    "class": "post_api_chat",
                    "typenode": false,
                    "inputs": {},
                    "outputs": {},
                    "pos_x": -75,
                    "pos_y": -31
                },
                "3": {
                    "id": 3,
                    "name": "MsgHub",
                    "data": {
                        "elements": [
                            "4"
                        ],
                        "args": {
                            "announcement": {
                                "name": "moderator",
                                "content": "Game starts."
                            }
                        }
                    },
                    "class": "GROUP",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 281,
                    "pos_y": -34.111111111111114
                },
                "4": {
                    "id": 4,
                    "name": "ForLoopPipeline",
                    "data": {
                        "elements": [
                            "5"
                        ],
                        "args": {
                            "max_loop": 5,
                            "condition_op": "contains",
                            "target_value": "over"
                        }
                    },
                    "class": "GROUP",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 319,
                    "pos_y": 27
                },
                "5": {
                    "id": 5,
                    "name": "SequentialPipeline",
                    "data": {
                        "elements": [
                            "6",
                            "7",
                            "8",
                            "9",
                            "10",
                            "11",
                            "12",
                            "13",
                            "14",
                            "15",
                            "16",
                            "17",
                            "18",
                            "19"
                        ]
                    },
                    "class": "GROUP",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 357,
                    "pos_y": 76
                },
                "6": {
                    "id": 6,
                    "name": "BroadcastAgent",
                    "data": {
                        "args": {
                            "name": "moderator",
                            "content": "It's the description phase now, and you need to describe your word in one sentence."
                        }
                    },
                    "class": "BroadcastAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 387,
                    "pos_y": 107
                },
                "7": {
                    "id": 7,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "player1",
                            "sys_prompt": "\"Who's the Undercover\" Game Rules:\n\nOverview:\n\"Who's the Undercover\" is a deduction-based guessing game for 5 players: player1, player2, player3, player4, and player5.\n\nObjective:\nTo uncover the undercover player among the participants through strategic description and voting, while the undercover aims to remain undetected.\n\nGame Setup:\n- At the beginning of the game, each player is secretly assigned a word. Four players receive the same word, while the remaining player gets a different word and becomes the undercover.\n- The undercover's word should remain a secret from the other players.\n\nGameplay:\nThe game consists of rounds, each divided into two phases: the Description Phase and the Voting Phase.\n\n1. Description Phase:\n   - Players take turns describing their word in one sentence, aiming to subtly indicate their word to fellow players without revealing it to the undercover.\n\n2. Voting Phase:\n   - Players vote for whom they suspect is the undercover. The player with the majority of votes is eliminated. In case of a tie, the game moves to the next round.\n   - You are eliminated if and only if voter has announced that you are eliminated.\n   - Eliminated players can only respond \"This player has been eliminated\" during their turn.\n\nWinning Conditions:\n- If only two players remain and one is the undercover, the undercover wins.\n- If the undercover is eliminated before this point, the other players win.\n\nStrategies:\n- Players should describe their word vaguely to prevent the undercover from catching on.\n- Voting should be used strategically to identify and eliminate the undercover.\n\nNote:\nOnce eliminated, a player's only permissible response is \"This player has been eliminated.\"\n\n\nYour name is player1. Your secret word is 'car'. Engage in the game using the first-person perspective, and remember to avoid using your designated name in your responses. Your goal is to subtly describe your word and to cast votes in an effort to identify the undercover without revealing your identity.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 437,
                    "pos_y": 133
                },
                "8": {
                    "id": 8,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "player2",
                            "sys_prompt": "\"Who's the Undercover\" Game Rules:\n\nOverview:\n\"Who's the Undercover\" is a deduction-based guessing game for 5 players: player1, player2, player3, player4, and player5.\n\nObjective:\nTo uncover the undercover player among the participants through strategic description and voting, while the undercover aims to remain undetected.\n\nGame Setup:\n- At the beginning of the game, each player is secretly assigned a word. Four players receive the same word, while the remaining player gets a different word and becomes the undercover.\n- The undercover's word should remain a secret from the other players.\n\nGameplay:\nThe game consists of rounds, each divided into two phases: the Description Phase and the Voting Phase.\n\n1. Description Phase:\n   - Players take turns describing their word in one sentence, aiming to subtly indicate their word to fellow players without revealing it to the undercover.\n\n2. Voting Phase:\n   - Players vote for whom they suspect is the undercover. The player with the majority of votes is eliminated. In case of a tie, the game moves to the next round.\n   - You are eliminated if and only if voter has announced that you are eliminated.\n   - Eliminated players can only respond \"This player has been eliminated\" during their turn.\n\nWinning Conditions:\n- If only two players remain and one is the undercover, the undercover wins.\n- If the undercover is eliminated before this point, the other players win.\n\nStrategies:\n- Players should describe their word vaguely to prevent the undercover from catching on.\n- Voting should be used strategically to identify and eliminate the undercover.\n\nNote:\nOnce eliminated, a player's only permissible response is \"This player has been eliminated.\"\n\n\nYour name is player2. Your secret word is 'car'. Engage in the game using the first-person perspective, and remember to avoid using your designated name in your responses. Your goal is to subtly describe your word and to cast votes in an effort to identify the undercover without revealing your identity.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 477,
                    "pos_y": 158
                },
                "9": {
                    "id": 9,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "player3",
                            "sys_prompt": "\"Who's the Undercover\" Game Rules:\n\nOverview:\n\"Who's the Undercover\" is a deduction-based guessing game for 5 players: player1, player2, player3, player4, and player5.\n\nObjective:\nTo uncover the undercover player among the participants through strategic description and voting, while the undercover aims to remain undetected.\n\nGame Setup:\n- At the beginning of the game, each player is secretly assigned a word. Four players receive the same word, while the remaining player gets a different word and becomes the undercover.\n- The undercover's word should remain a secret from the other players.\n\nGameplay:\nThe game consists of rounds, each divided into two phases: the Description Phase and the Voting Phase.\n\n1. Description Phase:\n   - Players take turns describing their word in one sentence, aiming to subtly indicate their word to fellow players without revealing it to the undercover.\n\n2. Voting Phase:\n   - Players vote for whom they suspect is the undercover. The player with the majority of votes is eliminated. In case of a tie, the game moves to the next round.\n   - You are eliminated if and only if voter has announced that you are eliminated.\n   - Eliminated players can only respond \"This player has been eliminated\" during their turn.\n\nWinning Conditions:\n- If only two players remain and one is the undercover, the undercover wins.\n- If the undercover is eliminated before this point, the other players win.\n\nStrategies:\n- Players should describe their word vaguely to prevent the undercover from catching on.\n- Voting should be used strategically to identify and eliminate the undercover.\n\nNote:\nOnce eliminated, a player's only permissible response is \"This player has been eliminated.\"\n\n\nYour name is player3. Your secret word is 'bike'. Engage in the game using the first-person perspective, and remember to avoid using your designated name in your responses. Your goal is to subtly describe your word and to cast votes in an effort to identify the undercover without revealing your identity.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 512,
                    "pos_y": 178.88888888888889
                },
                "10": {
                    "id": 10,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "player4",
                            "sys_prompt": "\"Who's the Undercover\" Game Rules:\n\nOverview:\n\"Who's the Undercover\" is a deduction-based guessing game for 5 players: player1, player2, player3, player4, and player5.\n\nObjective:\nTo uncover the undercover player among the participants through strategic description and voting, while the undercover aims to remain undetected.\n\nGame Setup:\n- At the beginning of the game, each player is secretly assigned a word. Four players receive the same word, while the remaining player gets a different word and becomes the undercover.\n- The undercover's word should remain a secret from the other players.\n\nGameplay:\nThe game consists of rounds, each divided into two phases: the Description Phase and the Voting Phase.\n\n1. Description Phase:\n   - Players take turns describing their word in one sentence, aiming to subtly indicate their word to fellow players without revealing it to the undercover.\n\n2. Voting Phase:\n   - Players vote for whom they suspect is the undercover. The player with the majority of votes is eliminated. In case of a tie, the game moves to the next round.\n   - You are eliminated if and only if voter has announced that you are eliminated.\n   - Eliminated players can only respond \"This player has been eliminated\" during their turn.\n\nWinning Conditions:\n- If only two players remain and one is the undercover, the undercover wins.\n- If the undercover is eliminated before this point, the other players win.\n\nStrategies:\n- Players should describe their word vaguely to prevent the undercover from catching on.\n- Voting should be used strategically to identify and eliminate the undercover.\n\nNote:\nOnce eliminated, a player's only permissible response is \"This player has been eliminated.\"\n\n\nYour name is player4. Your secret word is 'car'. Engage in the game using the first-person perspective, and remember to avoid using your designated name in your responses. Your goal is to subtly describe your word and to cast votes in an effort to identify the undercover without revealing your identity.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 545,
                    "pos_y": 204
                },
                "11": {
                    "id": 11,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "player5",
                            "sys_prompt": "\"Who's the Undercover\" Game Rules:\n\nOverview:\n\"Who's the Undercover\" is a deduction-based guessing game for 5 players: player1, player2, player3, player4, and player5.\n\nObjective:\nTo uncover the undercover player among the participants through strategic description and voting, while the undercover aims to remain undetected.\n\nGame Setup:\n- At the beginning of the game, each player is secretly assigned a word. Four players receive the same word, while the remaining player gets a different word and becomes the undercover.\n- The undercover's word should remain a secret from the other players.\n\nGameplay:\nThe game consists of rounds, each divided into two phases: the Description Phase and the Voting Phase.\n\n1. Description Phase:\n   - Players take turns describing their word in one sentence, aiming to subtly indicate their word to fellow players without revealing it to the undercover.\n\n2. Voting Phase:\n   - Players vote for whom they suspect is the undercover. The player with the majority of votes is eliminated. In case of a tie, the game moves to the next round.\n   - You are eliminated if and only if voter has announced that you are eliminated.\n   - Eliminated players can only respond \"This player has been eliminated\" during their turn.\n\nWinning Conditions:\n- If only two players remain and one is the undercover, the undercover wins.\n- If the undercover is eliminated before this point, the other players win.\n\nStrategies:\n- Players should describe their word vaguely to prevent the undercover from catching on.\n- Voting should be used strategically to identify and eliminate the undercover.\n\nNote:\nOnce eliminated, a player's only permissible response is \"This player has been eliminated.\"\n\n\nYour name is player5. Your secret word is 'car'. Engage in the game using the first-person perspective, and remember to avoid using your designated name in your responses. Your goal is to subtly describe your word and to cast votes in an effort to identify the undercover without revealing your identity.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 583,
                    "pos_y": 230
                },
                "12": {
                    "id": 12,
                    "name": "BroadcastAgent",
                    "data": {
                        "args": {
                            "name": "moderator",
                            "content": "It's the voting phase now, and you need to vote for the player you think is most likely the undercover. Do not vote for players who have been eliminated. Respond only with the player's name."
                        }
                    },
                    "class": "BroadcastAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 373,
                    "pos_y": 311.8888888888889
                },
                "13": {
                    "id": 13,
                    "name": "CopyNode",
                    "data": {
                        "elements": [
                            "7"
                        ]
                    },
                    "class": "node-DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 407,
                    "pos_y": 341
                },
                "14": {
                    "id": 14,
                    "name": "CopyNode",
                    "data": {
                        "elements": [
                            "8"
                        ]
                    },
                    "class": "node-DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 439,
                    "pos_y": 372
                },
                "15": {
                    "id": 15,
                    "name": "CopyNode",
                    "data": {
                        "elements": [
                            "9"
                        ]
                    },
                    "class": "node-DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 462.8888888888889,
                    "pos_y": 399
                },
                "16": {
                    "id": 16,
                    "name": "CopyNode",
                    "data": {
                        "elements": [
                            "10"
                        ]
                    },
                    "class": "node-DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 488,
                    "pos_y": 432
                },
                "17": {
                    "id": 17,
                    "name": "CopyNode",
                    "data": {
                        "elements": [
                            "11"
                        ]
                    },
                    "class": "node-DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 523.1111111111111,
                    "pos_y": 473
                },
                "18": {
                    "id": 18,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "voter",
                            "sys_prompt": "As the vote counter in the 'Who's the Undercover' game, it is your duty to accurately tally the votes from the players' selections and determine the outcome.\nFollow these guidelines:\n- If there is a tie between multiple players receiving the highest number of votes, your response should be: 'Tie, no player is eliminated.'.\n- If one player receives the highest number of votes, for instance, player1, announce the outcome with: 'player1 is eliminated.'.\n- Do not respond anything else, including your analysis and thoughts.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 549,
                    "pos_y": 512.8888888888889
                },
                "19": {
                    "id": 19,
                    "name": "DialogAgent",
                    "data": {
                        "args": {
                            "name": "checker",
                            "sys_prompt": "\"Who's the Undercover\" Game Rules:\n\nOverview:\n\"Who's the Undercover\" is a deduction-based guessing game for 5 players: player1, player2, player3, player4, and player5.\n\nObjective:\nTo uncover the undercover player among the participants through strategic description and voting, while the undercover aims to remain undetected.\n\nGame Setup:\n- At the beginning of the game, each player is secretly assigned a word. Four players receive the same word, while the remaining player gets a different word and becomes the undercover.\n- The undercover's word should remain a secret from the other players.\n\nGameplay:\nThe game consists of rounds, each divided into two phases: the Description Phase and the Voting Phase.\n\n1. Description Phase:\n   - Players take turns describing their word in one sentence, aiming to subtly indicate their word to fellow players without revealing it to the undercover.\n\n2. Voting Phase:\n   - Players vote for whom they suspect is the undercover. The player with the majority of votes is eliminated. In case of a tie, the game moves to the next round.\n   - You are eliminated if and only if voter has announced that you are eliminated.\n   - Eliminated players can only respond \"This player has been eliminated\" during their turn.\n\nWinning Conditions:\n- If only two players remain and one is the undercover, the undercover wins.\n- If the undercover is eliminated before this point, the other players win.\n\nStrategies:\n- Players should describe their word vaguely to prevent the undercover from catching on.\n- Voting should be used strategically to identify and eliminate the undercover.\n\nNote:\nOnce eliminated, a player's only permissible response is \"This player has been eliminated.\"\n\n\nIn your role as the inspector during 'Who's the Undercover' game sessions, your sole responsibility is to assess whether the game has reached its conclusion:\n- Should player3, who is the undercover, be eliminated, issue the statement: 'Game over, the undercover loses.'\n- If player3 remains and only two players are left in the game, declare: 'Game over, the undercover wins.'.\n- In all other situations, simply state: 'The game continues.'.\nPlease limit your communication to these specific outcomes without adding any personal commentary, analysis, or additional remarks.",
                            "model_config_name": "gpt"
                        }
                    },
                    "class": "DialogAgent",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 586,
                    "pos_y": 546
                }
            }
        }
    }
}